ARM GAS  /tmp/ccj5RlJ9.s 			page 1


   1              		.cpu cortex-m0plus
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 6
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"fifo.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.fifo_init,"ax",%progbits
  16              		.align	1
  17              		.global	fifo_init
  18              		.arch armv6s-m
  19              		.syntax unified
  20              		.code	16
  21              		.thumb_func
  22              		.fpu softvfp
  24              	fifo_init:
  25              	.LFB0:
  26              		.file 1 "../../libraries/fast_fifo/fifo.c"
   1:../../libraries/fast_fifo/fifo.c **** #include "fifo.h"
   2:../../libraries/fast_fifo/fifo.c **** 
   3:../../libraries/fast_fifo/fifo.c **** #include <stdbool.h>
   4:../../libraries/fast_fifo/fifo.c **** 
   5:../../libraries/fast_fifo/fifo.c **** #define IS_POWER_OF_TWO(num)    (((num) & ((num) - 1)) == 0) ? true : false
   6:../../libraries/fast_fifo/fifo.c **** 
   7:../../libraries/fast_fifo/fifo.c **** int fifo_init(fifo_t *fifo, uint8_t *buffer, uint32_t size)
   8:../../libraries/fast_fifo/fifo.c **** {
  27              		.loc 1 8 1
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 16
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31 0000 80B5     		push	{r7, lr}
  32              		.cfi_def_cfa_offset 8
  33              		.cfi_offset 7, -8
  34              		.cfi_offset 14, -4
  35 0002 84B0     		sub	sp, sp, #16
  36              		.cfi_def_cfa_offset 24
  37 0004 00AF     		add	r7, sp, #0
  38              		.cfi_def_cfa_register 7
  39 0006 F860     		str	r0, [r7, #12]
  40 0008 B960     		str	r1, [r7, #8]
  41 000a 7A60     		str	r2, [r7, #4]
   9:../../libraries/fast_fifo/fifo.c ****   if (!(IS_POWER_OF_TWO(size))) {
  42              		.loc 1 9 9
  43 000c 7B68     		ldr	r3, [r7, #4]
  44 000e 013B     		subs	r3, r3, #1
  45 0010 7A68     		ldr	r2, [r7, #4]
  46 0012 1340     		ands	r3, r2
  47              		.loc 1 9 6
  48 0014 02D0     		beq	.L2
  10:../../libraries/fast_fifo/fifo.c ****     return -1;
ARM GAS  /tmp/ccj5RlJ9.s 			page 2


  49              		.loc 1 10 12
  50 0016 0123     		movs	r3, #1
  51 0018 5B42     		rsbs	r3, r3, #0
  52 001a 0FE0     		b	.L3
  53              	.L2:
  11:../../libraries/fast_fifo/fifo.c ****   }
  12:../../libraries/fast_fifo/fifo.c **** 
  13:../../libraries/fast_fifo/fifo.c ****   fifo->buffer = buffer;
  54              		.loc 1 13 16
  55 001c FB68     		ldr	r3, [r7, #12]
  56 001e BA68     		ldr	r2, [r7, #8]
  57 0020 1A60     		str	r2, [r3]
  14:../../libraries/fast_fifo/fifo.c ****   fifo->size = size;
  58              		.loc 1 14 14
  59 0022 FB68     		ldr	r3, [r7, #12]
  60 0024 7A68     		ldr	r2, [r7, #4]
  61 0026 1A61     		str	r2, [r3, #16]
  15:../../libraries/fast_fifo/fifo.c ****   fifo->write_index = 0;
  62              		.loc 1 15 21
  63 0028 FB68     		ldr	r3, [r7, #12]
  64 002a 0022     		movs	r2, #0
  65 002c 5A60     		str	r2, [r3, #4]
  16:../../libraries/fast_fifo/fifo.c ****   fifo->read_index = 0;
  66              		.loc 1 16 20
  67 002e FB68     		ldr	r3, [r7, #12]
  68 0030 0022     		movs	r2, #0
  69 0032 9A60     		str	r2, [r3, #8]
  17:../../libraries/fast_fifo/fifo.c ****   fifo->bytes_used = 0;
  70              		.loc 1 17 20
  71 0034 FB68     		ldr	r3, [r7, #12]
  72 0036 0022     		movs	r2, #0
  73 0038 DA60     		str	r2, [r3, #12]
  18:../../libraries/fast_fifo/fifo.c ****   return 0;
  74              		.loc 1 18 10
  75 003a 0023     		movs	r3, #0
  76              	.L3:
  19:../../libraries/fast_fifo/fifo.c **** }
  77              		.loc 1 19 1
  78 003c 1800     		movs	r0, r3
  79 003e BD46     		mov	sp, r7
  80 0040 04B0     		add	sp, sp, #16
  81              		@ sp needed
  82 0042 80BD     		pop	{r7, pc}
  83              		.cfi_endproc
  84              	.LFE0:
  86              		.section	.text.fifo_push,"ax",%progbits
  87              		.align	1
  88              		.global	fifo_push
  89              		.syntax unified
  90              		.code	16
  91              		.thumb_func
  92              		.fpu softvfp
  94              	fifo_push:
  95              	.LFB1:
  20:../../libraries/fast_fifo/fifo.c **** 
  21:../../libraries/fast_fifo/fifo.c **** int fifo_push(fifo_t *fifo, uint8_t *buffer, uint32_t length)
  22:../../libraries/fast_fifo/fifo.c **** {
ARM GAS  /tmp/ccj5RlJ9.s 			page 3


  96              		.loc 1 22 1
  97              		.cfi_startproc
  98              		@ args = 0, pretend = 0, frame = 24
  99              		@ frame_needed = 1, uses_anonymous_args = 0
 100 0000 80B5     		push	{r7, lr}
 101              		.cfi_def_cfa_offset 8
 102              		.cfi_offset 7, -8
 103              		.cfi_offset 14, -4
 104 0002 86B0     		sub	sp, sp, #24
 105              		.cfi_def_cfa_offset 32
 106 0004 00AF     		add	r7, sp, #0
 107              		.cfi_def_cfa_register 7
 108 0006 F860     		str	r0, [r7, #12]
 109 0008 B960     		str	r1, [r7, #8]
 110 000a 7A60     		str	r2, [r7, #4]
  23:../../libraries/fast_fifo/fifo.c ****   if ((fifo->bytes_used + length) > fifo->size) {
 111              		.loc 1 23 12
 112 000c FB68     		ldr	r3, [r7, #12]
 113 000e DA68     		ldr	r2, [r3, #12]
 114              		.loc 1 23 25
 115 0010 7B68     		ldr	r3, [r7, #4]
 116 0012 D218     		adds	r2, r2, r3
 117              		.loc 1 23 41
 118 0014 FB68     		ldr	r3, [r7, #12]
 119 0016 1B69     		ldr	r3, [r3, #16]
 120              		.loc 1 23 6
 121 0018 9A42     		cmp	r2, r3
 122 001a 01D9     		bls	.L5
  24:../../libraries/fast_fifo/fifo.c ****     return 0;
 123              		.loc 1 24 12
 124 001c 0023     		movs	r3, #0
 125 001e 23E0     		b	.L6
 126              	.L5:
 127              	.LBB2:
  25:../../libraries/fast_fifo/fifo.c ****   }
  26:../../libraries/fast_fifo/fifo.c **** 
  27:../../libraries/fast_fifo/fifo.c ****   for (uint32_t i = 0; i < length; i++) {
 128              		.loc 1 27 17
 129 0020 0023     		movs	r3, #0
 130 0022 7B61     		str	r3, [r7, #20]
 131              		.loc 1 27 3
 132 0024 15E0     		b	.L7
 133              	.L8:
  28:../../libraries/fast_fifo/fifo.c ****     fifo->buffer[fifo->write_index] = buffer[i];
 134              		.loc 1 28 45 discriminator 3
 135 0026 BA68     		ldr	r2, [r7, #8]
 136 0028 7B69     		ldr	r3, [r7, #20]
 137 002a D218     		adds	r2, r2, r3
 138              		.loc 1 28 9 discriminator 3
 139 002c FB68     		ldr	r3, [r7, #12]
 140 002e 1968     		ldr	r1, [r3]
 141              		.loc 1 28 22 discriminator 3
 142 0030 FB68     		ldr	r3, [r7, #12]
 143 0032 5B68     		ldr	r3, [r3, #4]
 144              		.loc 1 28 17 discriminator 3
 145 0034 CB18     		adds	r3, r1, r3
 146              		.loc 1 28 45 discriminator 3
ARM GAS  /tmp/ccj5RlJ9.s 			page 4


 147 0036 1278     		ldrb	r2, [r2]
 148              		.loc 1 28 37 discriminator 3
 149 0038 1A70     		strb	r2, [r3]
  29:../../libraries/fast_fifo/fifo.c ****     fifo->write_index = (fifo->write_index + 1) & (fifo->size - 1);
 150              		.loc 1 29 30 discriminator 3
 151 003a FB68     		ldr	r3, [r7, #12]
 152 003c 5B68     		ldr	r3, [r3, #4]
 153              		.loc 1 29 44 discriminator 3
 154 003e 5A1C     		adds	r2, r3, #1
 155              		.loc 1 29 56 discriminator 3
 156 0040 FB68     		ldr	r3, [r7, #12]
 157 0042 1B69     		ldr	r3, [r3, #16]
 158              		.loc 1 29 63 discriminator 3
 159 0044 013B     		subs	r3, r3, #1
 160              		.loc 1 29 49 discriminator 3
 161 0046 1A40     		ands	r2, r3
 162              		.loc 1 29 23 discriminator 3
 163 0048 FB68     		ldr	r3, [r7, #12]
 164 004a 5A60     		str	r2, [r3, #4]
  27:../../libraries/fast_fifo/fifo.c ****     fifo->buffer[fifo->write_index] = buffer[i];
 165              		.loc 1 27 37 discriminator 3
 166 004c 7B69     		ldr	r3, [r7, #20]
 167 004e 0133     		adds	r3, r3, #1
 168 0050 7B61     		str	r3, [r7, #20]
 169              	.L7:
  27:../../libraries/fast_fifo/fifo.c ****     fifo->buffer[fifo->write_index] = buffer[i];
 170              		.loc 1 27 3 discriminator 1
 171 0052 7A69     		ldr	r2, [r7, #20]
 172 0054 7B68     		ldr	r3, [r7, #4]
 173 0056 9A42     		cmp	r2, r3
 174 0058 E5D3     		bcc	.L8
 175              	.LBE2:
  30:../../libraries/fast_fifo/fifo.c ****   }
  31:../../libraries/fast_fifo/fifo.c **** 
  32:../../libraries/fast_fifo/fifo.c ****   fifo->bytes_used += length;
 176              		.loc 1 32 20
 177 005a FB68     		ldr	r3, [r7, #12]
 178 005c DA68     		ldr	r2, [r3, #12]
 179 005e 7B68     		ldr	r3, [r7, #4]
 180 0060 D218     		adds	r2, r2, r3
 181 0062 FB68     		ldr	r3, [r7, #12]
 182 0064 DA60     		str	r2, [r3, #12]
  33:../../libraries/fast_fifo/fifo.c ****   return length;
 183              		.loc 1 33 10
 184 0066 7B68     		ldr	r3, [r7, #4]
 185              	.L6:
  34:../../libraries/fast_fifo/fifo.c **** }
 186              		.loc 1 34 1
 187 0068 1800     		movs	r0, r3
 188 006a BD46     		mov	sp, r7
 189 006c 06B0     		add	sp, sp, #24
 190              		@ sp needed
 191 006e 80BD     		pop	{r7, pc}
 192              		.cfi_endproc
 193              	.LFE1:
 195              		.section	.text.fifo_pop,"ax",%progbits
 196              		.align	1
ARM GAS  /tmp/ccj5RlJ9.s 			page 5


 197              		.global	fifo_pop
 198              		.syntax unified
 199              		.code	16
 200              		.thumb_func
 201              		.fpu softvfp
 203              	fifo_pop:
 204              	.LFB2:
  35:../../libraries/fast_fifo/fifo.c **** 
  36:../../libraries/fast_fifo/fifo.c **** int fifo_pop(fifo_t *fifo, uint8_t *dest, uint32_t length)
  37:../../libraries/fast_fifo/fifo.c **** {
 205              		.loc 1 37 1
 206              		.cfi_startproc
 207              		@ args = 0, pretend = 0, frame = 24
 208              		@ frame_needed = 1, uses_anonymous_args = 0
 209 0000 80B5     		push	{r7, lr}
 210              		.cfi_def_cfa_offset 8
 211              		.cfi_offset 7, -8
 212              		.cfi_offset 14, -4
 213 0002 86B0     		sub	sp, sp, #24
 214              		.cfi_def_cfa_offset 32
 215 0004 00AF     		add	r7, sp, #0
 216              		.cfi_def_cfa_register 7
 217 0006 F860     		str	r0, [r7, #12]
 218 0008 B960     		str	r1, [r7, #8]
 219 000a 7A60     		str	r2, [r7, #4]
  38:../../libraries/fast_fifo/fifo.c ****   if (length > fifo->bytes_used) {
 220              		.loc 1 38 20
 221 000c FB68     		ldr	r3, [r7, #12]
 222 000e DB68     		ldr	r3, [r3, #12]
 223              		.loc 1 38 6
 224 0010 7A68     		ldr	r2, [r7, #4]
 225 0012 9A42     		cmp	r2, r3
 226 0014 01D9     		bls	.L10
  39:../../libraries/fast_fifo/fifo.c ****     return 0;
 227              		.loc 1 39 12
 228 0016 0023     		movs	r3, #0
 229 0018 23E0     		b	.L11
 230              	.L10:
 231              	.LBB3:
  40:../../libraries/fast_fifo/fifo.c ****   }
  41:../../libraries/fast_fifo/fifo.c **** 
  42:../../libraries/fast_fifo/fifo.c ****   for (uint32_t i = 0; i < length; i++) {
 232              		.loc 1 42 17
 233 001a 0023     		movs	r3, #0
 234 001c 7B61     		str	r3, [r7, #20]
 235              		.loc 1 42 3
 236 001e 15E0     		b	.L12
 237              	.L13:
  43:../../libraries/fast_fifo/fifo.c ****     dest[i] = fifo->buffer[fifo->read_index];
 238              		.loc 1 43 19 discriminator 3
 239 0020 FB68     		ldr	r3, [r7, #12]
 240 0022 1A68     		ldr	r2, [r3]
 241              		.loc 1 43 32 discriminator 3
 242 0024 FB68     		ldr	r3, [r7, #12]
 243 0026 9B68     		ldr	r3, [r3, #8]
 244              		.loc 1 43 27 discriminator 3
 245 0028 D218     		adds	r2, r2, r3
ARM GAS  /tmp/ccj5RlJ9.s 			page 6


 246              		.loc 1 43 9 discriminator 3
 247 002a B968     		ldr	r1, [r7, #8]
 248 002c 7B69     		ldr	r3, [r7, #20]
 249 002e CB18     		adds	r3, r1, r3
 250              		.loc 1 43 27 discriminator 3
 251 0030 1278     		ldrb	r2, [r2]
 252              		.loc 1 43 13 discriminator 3
 253 0032 1A70     		strb	r2, [r3]
  44:../../libraries/fast_fifo/fifo.c ****     fifo->read_index = (fifo->read_index + 1) & (fifo->size - 1);
 254              		.loc 1 44 29 discriminator 3
 255 0034 FB68     		ldr	r3, [r7, #12]
 256 0036 9B68     		ldr	r3, [r3, #8]
 257              		.loc 1 44 42 discriminator 3
 258 0038 5A1C     		adds	r2, r3, #1
 259              		.loc 1 44 54 discriminator 3
 260 003a FB68     		ldr	r3, [r7, #12]
 261 003c 1B69     		ldr	r3, [r3, #16]
 262              		.loc 1 44 61 discriminator 3
 263 003e 013B     		subs	r3, r3, #1
 264              		.loc 1 44 47 discriminator 3
 265 0040 1A40     		ands	r2, r3
 266              		.loc 1 44 22 discriminator 3
 267 0042 FB68     		ldr	r3, [r7, #12]
 268 0044 9A60     		str	r2, [r3, #8]
  42:../../libraries/fast_fifo/fifo.c ****     dest[i] = fifo->buffer[fifo->read_index];
 269              		.loc 1 42 37 discriminator 3
 270 0046 7B69     		ldr	r3, [r7, #20]
 271 0048 0133     		adds	r3, r3, #1
 272 004a 7B61     		str	r3, [r7, #20]
 273              	.L12:
  42:../../libraries/fast_fifo/fifo.c ****     dest[i] = fifo->buffer[fifo->read_index];
 274              		.loc 1 42 3 discriminator 1
 275 004c 7A69     		ldr	r2, [r7, #20]
 276 004e 7B68     		ldr	r3, [r7, #4]
 277 0050 9A42     		cmp	r2, r3
 278 0052 E5D3     		bcc	.L13
 279              	.LBE3:
  45:../../libraries/fast_fifo/fifo.c ****   }
  46:../../libraries/fast_fifo/fifo.c ****   fifo->bytes_used -= length;
 280              		.loc 1 46 20
 281 0054 FB68     		ldr	r3, [r7, #12]
 282 0056 DA68     		ldr	r2, [r3, #12]
 283 0058 7B68     		ldr	r3, [r7, #4]
 284 005a D21A     		subs	r2, r2, r3
 285 005c FB68     		ldr	r3, [r7, #12]
 286 005e DA60     		str	r2, [r3, #12]
  47:../../libraries/fast_fifo/fifo.c ****   return length;
 287              		.loc 1 47 10
 288 0060 7B68     		ldr	r3, [r7, #4]
 289              	.L11:
  48:../../libraries/fast_fifo/fifo.c **** }
 290              		.loc 1 48 1
 291 0062 1800     		movs	r0, r3
 292 0064 BD46     		mov	sp, r7
 293 0066 06B0     		add	sp, sp, #24
 294              		@ sp needed
 295 0068 80BD     		pop	{r7, pc}
ARM GAS  /tmp/ccj5RlJ9.s 			page 7


 296              		.cfi_endproc
 297              	.LFE2:
 299              		.section	.text.fifo_peek,"ax",%progbits
 300              		.align	1
 301              		.global	fifo_peek
 302              		.syntax unified
 303              		.code	16
 304              		.thumb_func
 305              		.fpu softvfp
 307              	fifo_peek:
 308              	.LFB3:
  49:../../libraries/fast_fifo/fifo.c **** 
  50:../../libraries/fast_fifo/fifo.c **** int fifo_peek(fifo_t *fifo, uint8_t *dest, uint32_t length)
  51:../../libraries/fast_fifo/fifo.c **** {
 309              		.loc 1 51 1
 310              		.cfi_startproc
 311              		@ args = 0, pretend = 0, frame = 24
 312              		@ frame_needed = 1, uses_anonymous_args = 0
 313 0000 80B5     		push	{r7, lr}
 314              		.cfi_def_cfa_offset 8
 315              		.cfi_offset 7, -8
 316              		.cfi_offset 14, -4
 317 0002 86B0     		sub	sp, sp, #24
 318              		.cfi_def_cfa_offset 32
 319 0004 00AF     		add	r7, sp, #0
 320              		.cfi_def_cfa_register 7
 321 0006 F860     		str	r0, [r7, #12]
 322 0008 B960     		str	r1, [r7, #8]
 323 000a 7A60     		str	r2, [r7, #4]
  52:../../libraries/fast_fifo/fifo.c ****   if (length > fifo->bytes_used) {
 324              		.loc 1 52 20
 325 000c FB68     		ldr	r3, [r7, #12]
 326 000e DB68     		ldr	r3, [r3, #12]
 327              		.loc 1 52 6
 328 0010 7A68     		ldr	r2, [r7, #4]
 329 0012 9A42     		cmp	r2, r3
 330 0014 01D9     		bls	.L15
  53:../../libraries/fast_fifo/fifo.c ****     return 0;
 331              		.loc 1 53 12
 332 0016 0023     		movs	r3, #0
 333 0018 1DE0     		b	.L16
 334              	.L15:
  54:../../libraries/fast_fifo/fifo.c ****   }
  55:../../libraries/fast_fifo/fifo.c ****   uint32_t read_index = fifo->read_index;
 335              		.loc 1 55 12
 336 001a FB68     		ldr	r3, [r7, #12]
 337 001c 9B68     		ldr	r3, [r3, #8]
 338 001e 7B61     		str	r3, [r7, #20]
 339              	.LBB4:
  56:../../libraries/fast_fifo/fifo.c **** 
  57:../../libraries/fast_fifo/fifo.c ****   for (uint32_t i = 0; i < length; i++) {
 340              		.loc 1 57 17
 341 0020 0023     		movs	r3, #0
 342 0022 3B61     		str	r3, [r7, #16]
 343              		.loc 1 57 3
 344 0024 12E0     		b	.L17
 345              	.L18:
ARM GAS  /tmp/ccj5RlJ9.s 			page 8


  58:../../libraries/fast_fifo/fifo.c ****     dest[i] = fifo->buffer[read_index];
 346              		.loc 1 58 19 discriminator 3
 347 0026 FB68     		ldr	r3, [r7, #12]
 348 0028 1A68     		ldr	r2, [r3]
 349              		.loc 1 58 27 discriminator 3
 350 002a 7B69     		ldr	r3, [r7, #20]
 351 002c D218     		adds	r2, r2, r3
 352              		.loc 1 58 9 discriminator 3
 353 002e B968     		ldr	r1, [r7, #8]
 354 0030 3B69     		ldr	r3, [r7, #16]
 355 0032 CB18     		adds	r3, r1, r3
 356              		.loc 1 58 27 discriminator 3
 357 0034 1278     		ldrb	r2, [r2]
 358              		.loc 1 58 13 discriminator 3
 359 0036 1A70     		strb	r2, [r3]
  59:../../libraries/fast_fifo/fifo.c ****     read_index = (read_index + 1) & (fifo->size - 1);
 360              		.loc 1 59 30 discriminator 3
 361 0038 7B69     		ldr	r3, [r7, #20]
 362 003a 5A1C     		adds	r2, r3, #1
 363              		.loc 1 59 42 discriminator 3
 364 003c FB68     		ldr	r3, [r7, #12]
 365 003e 1B69     		ldr	r3, [r3, #16]
 366              		.loc 1 59 49 discriminator 3
 367 0040 013B     		subs	r3, r3, #1
 368              		.loc 1 59 16 discriminator 3
 369 0042 1340     		ands	r3, r2
 370 0044 7B61     		str	r3, [r7, #20]
  57:../../libraries/fast_fifo/fifo.c ****     dest[i] = fifo->buffer[read_index];
 371              		.loc 1 57 37 discriminator 3
 372 0046 3B69     		ldr	r3, [r7, #16]
 373 0048 0133     		adds	r3, r3, #1
 374 004a 3B61     		str	r3, [r7, #16]
 375              	.L17:
  57:../../libraries/fast_fifo/fifo.c ****     dest[i] = fifo->buffer[read_index];
 376              		.loc 1 57 3 discriminator 1
 377 004c 3A69     		ldr	r2, [r7, #16]
 378 004e 7B68     		ldr	r3, [r7, #4]
 379 0050 9A42     		cmp	r2, r3
 380 0052 E8D3     		bcc	.L18
 381              	.LBE4:
  60:../../libraries/fast_fifo/fifo.c ****   }
  61:../../libraries/fast_fifo/fifo.c ****   return length;
 382              		.loc 1 61 10
 383 0054 7B68     		ldr	r3, [r7, #4]
 384              	.L16:
  62:../../libraries/fast_fifo/fifo.c **** }
 385              		.loc 1 62 1
 386 0056 1800     		movs	r0, r3
 387 0058 BD46     		mov	sp, r7
 388 005a 06B0     		add	sp, sp, #24
 389              		@ sp needed
 390 005c 80BD     		pop	{r7, pc}
 391              		.cfi_endproc
 392              	.LFE3:
 394              		.section	.text.fifo_drop,"ax",%progbits
 395              		.align	1
 396              		.global	fifo_drop
ARM GAS  /tmp/ccj5RlJ9.s 			page 9


 397              		.syntax unified
 398              		.code	16
 399              		.thumb_func
 400              		.fpu softvfp
 402              	fifo_drop:
 403              	.LFB4:
  63:../../libraries/fast_fifo/fifo.c **** 
  64:../../libraries/fast_fifo/fifo.c **** int fifo_drop(fifo_t *fifo, uint32_t length)
  65:../../libraries/fast_fifo/fifo.c **** {
 404              		.loc 1 65 1
 405              		.cfi_startproc
 406              		@ args = 0, pretend = 0, frame = 8
 407              		@ frame_needed = 1, uses_anonymous_args = 0
 408 0000 80B5     		push	{r7, lr}
 409              		.cfi_def_cfa_offset 8
 410              		.cfi_offset 7, -8
 411              		.cfi_offset 14, -4
 412 0002 82B0     		sub	sp, sp, #8
 413              		.cfi_def_cfa_offset 16
 414 0004 00AF     		add	r7, sp, #0
 415              		.cfi_def_cfa_register 7
 416 0006 7860     		str	r0, [r7, #4]
 417 0008 3960     		str	r1, [r7]
  66:../../libraries/fast_fifo/fifo.c ****   if (fifo->bytes_used < length) {
 418              		.loc 1 66 11
 419 000a 7B68     		ldr	r3, [r7, #4]
 420 000c DB68     		ldr	r3, [r3, #12]
 421              		.loc 1 66 6
 422 000e 3A68     		ldr	r2, [r7]
 423 0010 9A42     		cmp	r2, r3
 424 0012 01D9     		bls	.L20
  67:../../libraries/fast_fifo/fifo.c ****     return 0;
 425              		.loc 1 67 12
 426 0014 0023     		movs	r3, #0
 427 0016 10E0     		b	.L21
 428              	.L20:
  68:../../libraries/fast_fifo/fifo.c ****   }
  69:../../libraries/fast_fifo/fifo.c **** 
  70:../../libraries/fast_fifo/fifo.c ****   fifo->read_index = (fifo->read_index + length) & (fifo->size - 1);
 429              		.loc 1 70 27
 430 0018 7B68     		ldr	r3, [r7, #4]
 431 001a 9A68     		ldr	r2, [r3, #8]
 432              		.loc 1 70 40
 433 001c 3B68     		ldr	r3, [r7]
 434 001e D218     		adds	r2, r2, r3
 435              		.loc 1 70 57
 436 0020 7B68     		ldr	r3, [r7, #4]
 437 0022 1B69     		ldr	r3, [r3, #16]
 438              		.loc 1 70 64
 439 0024 013B     		subs	r3, r3, #1
 440              		.loc 1 70 50
 441 0026 1A40     		ands	r2, r3
 442              		.loc 1 70 20
 443 0028 7B68     		ldr	r3, [r7, #4]
 444 002a 9A60     		str	r2, [r3, #8]
  71:../../libraries/fast_fifo/fifo.c ****   fifo->bytes_used = fifo->bytes_used - length;
 445              		.loc 1 71 26
ARM GAS  /tmp/ccj5RlJ9.s 			page 10


 446 002c 7B68     		ldr	r3, [r7, #4]
 447 002e DA68     		ldr	r2, [r3, #12]
 448              		.loc 1 71 39
 449 0030 3B68     		ldr	r3, [r7]
 450 0032 D21A     		subs	r2, r2, r3
 451              		.loc 1 71 20
 452 0034 7B68     		ldr	r3, [r7, #4]
 453 0036 DA60     		str	r2, [r3, #12]
  72:../../libraries/fast_fifo/fifo.c **** 
  73:../../libraries/fast_fifo/fifo.c ****   return length;
 454              		.loc 1 73 10
 455 0038 3B68     		ldr	r3, [r7]
 456              	.L21:
  74:../../libraries/fast_fifo/fifo.c **** }
 457              		.loc 1 74 1
 458 003a 1800     		movs	r0, r3
 459 003c BD46     		mov	sp, r7
 460 003e 02B0     		add	sp, sp, #8
 461              		@ sp needed
 462 0040 80BD     		pop	{r7, pc}
 463              		.cfi_endproc
 464              	.LFE4:
 466              		.section	.text.fifo_bytes_used_cnt_get,"ax",%progbits
 467              		.align	1
 468              		.global	fifo_bytes_used_cnt_get
 469              		.syntax unified
 470              		.code	16
 471              		.thumb_func
 472              		.fpu softvfp
 474              	fifo_bytes_used_cnt_get:
 475              	.LFB5:
  75:../../libraries/fast_fifo/fifo.c **** 
  76:../../libraries/fast_fifo/fifo.c **** uint32_t fifo_bytes_used_cnt_get(fifo_t *fifo)
  77:../../libraries/fast_fifo/fifo.c **** {
 476              		.loc 1 77 1
 477              		.cfi_startproc
 478              		@ args = 0, pretend = 0, frame = 8
 479              		@ frame_needed = 1, uses_anonymous_args = 0
 480 0000 80B5     		push	{r7, lr}
 481              		.cfi_def_cfa_offset 8
 482              		.cfi_offset 7, -8
 483              		.cfi_offset 14, -4
 484 0002 82B0     		sub	sp, sp, #8
 485              		.cfi_def_cfa_offset 16
 486 0004 00AF     		add	r7, sp, #0
 487              		.cfi_def_cfa_register 7
 488 0006 7860     		str	r0, [r7, #4]
  78:../../libraries/fast_fifo/fifo.c ****   return fifo->bytes_used;
 489              		.loc 1 78 14
 490 0008 7B68     		ldr	r3, [r7, #4]
 491 000a DB68     		ldr	r3, [r3, #12]
  79:../../libraries/fast_fifo/fifo.c **** }
 492              		.loc 1 79 1
 493 000c 1800     		movs	r0, r3
 494 000e BD46     		mov	sp, r7
 495 0010 02B0     		add	sp, sp, #8
 496              		@ sp needed
ARM GAS  /tmp/ccj5RlJ9.s 			page 11


 497 0012 80BD     		pop	{r7, pc}
 498              		.cfi_endproc
 499              	.LFE5:
 501              		.section	.text.fifo_bytes_unused_cnt_get,"ax",%progbits
 502              		.align	1
 503              		.global	fifo_bytes_unused_cnt_get
 504              		.syntax unified
 505              		.code	16
 506              		.thumb_func
 507              		.fpu softvfp
 509              	fifo_bytes_unused_cnt_get:
 510              	.LFB6:
  80:../../libraries/fast_fifo/fifo.c **** 
  81:../../libraries/fast_fifo/fifo.c **** uint32_t fifo_bytes_unused_cnt_get(fifo_t *fifo)
  82:../../libraries/fast_fifo/fifo.c **** {
 511              		.loc 1 82 1
 512              		.cfi_startproc
 513              		@ args = 0, pretend = 0, frame = 8
 514              		@ frame_needed = 1, uses_anonymous_args = 0
 515 0000 80B5     		push	{r7, lr}
 516              		.cfi_def_cfa_offset 8
 517              		.cfi_offset 7, -8
 518              		.cfi_offset 14, -4
 519 0002 82B0     		sub	sp, sp, #8
 520              		.cfi_def_cfa_offset 16
 521 0004 00AF     		add	r7, sp, #0
 522              		.cfi_def_cfa_register 7
 523 0006 7860     		str	r0, [r7, #4]
  83:../../libraries/fast_fifo/fifo.c ****   return fifo->size - fifo->bytes_used;
 524              		.loc 1 83 14
 525 0008 7B68     		ldr	r3, [r7, #4]
 526 000a 1A69     		ldr	r2, [r3, #16]
 527              		.loc 1 83 27
 528 000c 7B68     		ldr	r3, [r7, #4]
 529 000e DB68     		ldr	r3, [r3, #12]
 530              		.loc 1 83 21
 531 0010 D31A     		subs	r3, r2, r3
  84:../../libraries/fast_fifo/fifo.c **** }
 532              		.loc 1 84 1
 533 0012 1800     		movs	r0, r3
 534 0014 BD46     		mov	sp, r7
 535 0016 02B0     		add	sp, sp, #8
 536              		@ sp needed
 537 0018 80BD     		pop	{r7, pc}
 538              		.cfi_endproc
 539              	.LFE6:
 541              		.text
 542              	.Letext0:
 543              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 544              		.file 3 "../../libraries/fast_fifo/fifo.h"
ARM GAS  /tmp/ccj5RlJ9.s 			page 12


DEFINED SYMBOLS
                            *ABS*:0000000000000000 fifo.c
     /tmp/ccj5RlJ9.s:16     .text.fifo_init:0000000000000000 $t
     /tmp/ccj5RlJ9.s:24     .text.fifo_init:0000000000000000 fifo_init
     /tmp/ccj5RlJ9.s:87     .text.fifo_push:0000000000000000 $t
     /tmp/ccj5RlJ9.s:94     .text.fifo_push:0000000000000000 fifo_push
     /tmp/ccj5RlJ9.s:196    .text.fifo_pop:0000000000000000 $t
     /tmp/ccj5RlJ9.s:203    .text.fifo_pop:0000000000000000 fifo_pop
     /tmp/ccj5RlJ9.s:300    .text.fifo_peek:0000000000000000 $t
     /tmp/ccj5RlJ9.s:307    .text.fifo_peek:0000000000000000 fifo_peek
     /tmp/ccj5RlJ9.s:395    .text.fifo_drop:0000000000000000 $t
     /tmp/ccj5RlJ9.s:402    .text.fifo_drop:0000000000000000 fifo_drop
     /tmp/ccj5RlJ9.s:467    .text.fifo_bytes_used_cnt_get:0000000000000000 $t
     /tmp/ccj5RlJ9.s:474    .text.fifo_bytes_used_cnt_get:0000000000000000 fifo_bytes_used_cnt_get
     /tmp/ccj5RlJ9.s:502    .text.fifo_bytes_unused_cnt_get:0000000000000000 $t
     /tmp/ccj5RlJ9.s:509    .text.fifo_bytes_unused_cnt_get:0000000000000000 fifo_bytes_unused_cnt_get
                           .group:0000000000000000 wm4.0.0ccbabe563133fc225e2d8e0f610ba9f
                           .group:0000000000000000 wm4.stdint.h.29.6d480f4ba0f60596e88234283d42444f
                           .group:0000000000000000 wm4.stdbool.h.29.07dce69c3b78884144b7f7bd19483461

NO UNDEFINED SYMBOLS
